<!DOCTYPE html>
  <head>
    <meta charset="utf-8">
	   <% include ../../shared/_header %>
       <link rel="stylesheet" href="/stylesheets/typeahead.css"/>
       <link rel="stylesheet" href="/stylesheets/select2.css"/>
       <link rel="stylesheet" href="/stylesheets/index.css"/>
       <link rel="stylesheet" href="/stylesheets/bootstrap-slider.css">     
       
       <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.0/js/select2.min.js"></script>
       <script type="text/javascript" src="/javascripts/typeahead.bundle.js"></script>
       <script type="text/javascript" src="/javascripts/bootstrap-slider.js"></script>
       
       <script>
            
            
            //AJAX post request to database, returns list of all terms
            function getTerms(){
                $.ajax( {
                    url: '/search',
                    type: 'POST',
                    data: {"findTerms" : true},
                    success: function(items) {
                        console.log("success in terms");
                        termsArray = items;
                        createTerms(termsArray);

                    }
                });
            }                   
                     
		</script>  	
  </head>
  <body>
    <!--Navbar-->
    <% include ../../shared/_navbar %>
      
      <!--Body-->
        <div class="container">
            <div class="row">
                <div class="col-md-4"></div>
                <div class="col-md-4">                 
                    <form action="reviews" method="post" name="addReviewForm" style="margin-top: 150px">
                        <h2>Review a Course</h2><br>
                        <div class="row">
                            <p class="col-md-12 col-xs-12">Term
                                <select id="term" class="term-select">                                  
                                </select> 
                            </p>
                        </div>                        
                        <div class="row">
                            <p class="col-md-12 col-xs-12">Select From Your courses
                                <select id="mycourses" class="term-select">                                  
                                </select> 
                            </p>
                        </div>                        
                        <div class="row">                        
                            <p class="col-md-12 col-xs-12">Grade (optional)
                                <select id="grade" class="subject-select">
                                    <option value="under5">A</option>
                                    <option value="under5">A-</option>
                                    <option value="under5">B+</option>
                                    <option value="under5">B</option>
                                    <option value="under5">B-</option>
                                    <option value="under5">C+</option>
                                    <option value="under5">C</option>
                                    <option value="under5">C-</option>
                                    <option value="under5">D+</option>
                                    <option value="under5">D</option>
                                    <option value="under5">D-</option>
                                    <option value="under5">F</option>                         
                                </select> 
                            </p>
                        </div>
                        <p class="col-md-12 col-xs-12" style="padding-left: 0px"> Overall Rating</p>                       
                                              
                        <p class="col-md-12 col-xs-12">
                        <input id="rating" type="text" data-slider-ticks="[1, 2, 3, 4, 5]" data-slider-ticks-snap-bounds="100" data-slider-ticks-labels='["1", "2", "3", "4", "5"]' tooltip="show"/>
                        </p>
                        
                        
                        <p class="col-md-12 col-xs-12" style="padding-left: 0px"> Class Difficulty</p>                       
                                              
                        <p class="col-md-12 col-xs-12">
                        <input id="difficulty" type="text" data-slider-ticks="[1, 2, 3, 4, 5]" data-slider-ticks-snap-bounds="100" data-slider-ticks-labels='["1", "2", "3", "4", "5"]' tooltip="hide"/>
                        </p>
                        <div class="row">
                            <p class="col-md-12 col-xs-12">Average Time Spent Outside Class Per Week
                                <select id="term" class="term-select">
                                    <option value="under5">0~5 Hours</option>
                                    <option value="under10">5~10 Hours</option>
                                    <option value="under15">10~15 Hours</option>
                                    <option value="over15">15~ Hours</option>                                  
                                </select> 
                            </p>
                        </div> 
                        <p>Comments  (optional)
                        <input type="text" class="form-control" name="comments">
                        </p> <br>                       
                        <p class="submit"><input type="submit" class="btn btn-default" style="float: right;" name="commit" value="Submit!"></p>
                    </form>
                </div>
                <div class="col-md-4"></div>
            </div>
        </div>
  </body>
    <script type="text/javascript">
		$(document).ready(function() {
            
            // add the select complete component
            $(".subject-select").select2();
            $(".term-select").select2(); 
            
        });       
        
        function createTerms(termsArray) {
            
            var html;       // to be placed in the select listing
            
            for (var i = 0; i < termsArray.length; i++) {
                if (i == 0) {
                    html = html + "<option selected='selected' value='" + termsArray[i].name + "'>" + termsArray[i].name + "</option>";
                }
                else {
                    html = html + "<option value='" + termsArray[i].name + "'>" + termsArray[i].name + "</option>";
                }
                
            }
            
            document.getElementById('term').innerHTML += html;
            $('#term').val($('#term').find('option:first').val());
            $('#term').find('option:first').prop('selected', true);
            $('#term').change();            
        }
        
        var slider = new Slider("#rating", {
        ticks: [1, 2, 3, 4, 5],
        ticks_labels: ['1', '2', '3', '4', '5'],
        ticks_snap_bounds: 100
    });
    
        var slider = new Slider("#difficulty", {
        ticks: [1, 2, 3, 4, 5],
        ticks_labels: ['1', '2', '3', '4', '5'],
        ticks_snap_bounds: 100
    });
	</script>
    
</html>